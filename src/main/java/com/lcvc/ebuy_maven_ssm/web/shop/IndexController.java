package com.lcvc.ebuy_maven_ssm.web.shop;import com.lcvc.ebuy_maven_ssm.model.Admin;import com.lcvc.ebuy_maven_ssm.model.Customer;import com.lcvc.ebuy_maven_ssm.service.CustomerService;import com.lcvc.ebuy_maven_ssm.service.ProductService;import com.lcvc.ebuy_maven_ssm.service.ProductTypeService;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import javax.annotation.Resource;import javax.servlet.http.HttpSession;import java.util.HashMap;import java.util.Map;@Controller@RequestMapping(value = "/shop")public class IndexController {	@Resource	private ProductService productService;	@Resource	private ProductTypeService productTypeService;	@Resource	private CustomerService customerService;	@RequestMapping(value = "/index", method = RequestMethod.GET)	public String index(Model model) {		model.addAttribute("productTypes", productTypeService.getProductTypeList());//当前页显示的记录集合		model.addAttribute("newProducts", productService.getNewTopProductList(8));//当前页显示的记录集合		model.addAttribute("hotProduct",productService.getHotProductList(4));//热门订单的显示数量		model.addAttribute("timeProduct",productService.getTimeProductList(4));//热门订单的显示数量		return "/jsp/shop/index.jsp";	}	//跳转到今日新品更多页面	@RequestMapping(value = "/toshoplists", method = RequestMethod.GET)	public String toProduct(Model model,Integer page) {		if (page==null){//如果page为null，默认为第一页		page=1;	}else {		if (page<1){			page=1;		}	}		model.addAttribute("list", productService.getProductList(page));//当前页显示的记录集合		model.addAttribute("page",page);//当前页		model.addAttribute("maxPage",productService.maxPage());//最大也		model.addAttribute("newProducts", productService.getNewTopProductList(8));//当前页显示的记录集合		return "jsp/shop/shoplists.jsp";	}	//跳转到产品详情页面	@RequestMapping(value = "/toshopdetial", method = RequestMethod.GET)	public String toshopdetial(Model model, Integer id) {		model.addAttribute("product",productService.getProduct(id));		return "jsp/shop/shopdetial.jsp";	}	//跳转到购物车页面	@RequestMapping(value = "/toshopcart", method = RequestMethod.GET)	public String toshopcart(Model model, Integer id) {		//model.addAttribute("product",productService.getProduct(id));		return "jsp/shop/shopcart.jsp";	}	//跳转到产品分类页面	@RequestMapping(value = "/toshoptypelists", method = RequestMethod.GET)	public String toshoptypelists(Model model, Integer id,Integer page) {		if (page==null){//如果page为null，默认为第一页			page=1;		}else {			if (page<1){				page=1;			}		}		model.addAttribute("list", productService.getProductList(page));//当前页显示的记录集合		model.addAttribute("page",page);//当前页		model.addAttribute("newProducts", productService.getNewTopProductList(8));//当前页显示的记录集合		model.addAttribute("getProductTypeShoplist",productService.getProductTypeShoplistList(id));		return "jsp/shop/shoptypelists.jsp";	}	//产品分类按价格排序	@RequestMapping(value = "/toshoptypepirce", method = RequestMethod.GET)	public String toshoptypepice(Model model, Integer id) {		model.addAttribute("product",productService.getProductShopPirceList(id));		return "jsp/shop/shoptypeprice.jsp";	}}